from aiogram import Router, types, F
from aiogram.filters import Command
from aiogram.fsm.context import FSMContext
from aiogram.fsm.state import State, StatesGroup
from aiogram.types import (
    ReplyKeyboardMarkup,
    KeyboardButton,
    ReplyKeyboardRemove
)
from app.uuid.uuid import new_uuid
from app.hash.hash import hash_string, verify_string

from app.repository.pg import *
from app.models.user import TelegramID, Role
from app.config import ROOT_ADMIN_ID
from app.cache import UserState

from app.handlers.start import *


async def show_organisational_structure(message: types.Message, builder):
    cache = message.bot.user_state_cache
    user_id = message.from_user.id

    sent = await message.answer(

'''
üè¢ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –û–û–û –ù–ü–ü ¬´–¢–≠–ö¬ª

üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–¥–µ–ª –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞—à–µ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è!

üìä –û—Å–Ω–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏ –∫–æ–º–ø–∞–Ω–∏–∏:

üè¢ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è

        üíº –ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä ‚Äî –≤—ã—Å—à–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

        üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º

        üíº –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä ‚Äî —Ä–∞–∑–≤–∏—Ç–∏–µ –±–∏–∑–Ω–µ—Å–∞

        üè¶ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤

üè≠ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç

        ‚öôÔ∏è –¶–µ—Ö –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞

        üîå –¶–µ—Ö —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞

        üõ† –£—á–∞—Å—Ç–æ–∫ —Å–±–æ—Ä–∫–∏ –∏ –º–æ–Ω—Ç–∞–∂–∞

        üîç –ò—Å–ø—ã—Ç–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä

üîß –ò–Ω–∂–µ–Ω–µ—Ä–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç

        üéØ –û—Ç–¥–µ–ª –≥–ª–∞–≤–Ω–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

        üõ† –û—Ç–¥–µ–ª –≥–ª–∞–≤–Ω–æ–≥–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∞

        üìä –ü—Ä–æ–µ–∫—Ç–Ω—ã–π –æ—Ç–¥–µ–ª

        ü§ñ –û—Ç–¥–µ–ª –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

üíº –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç

        üíº –û—Ç–¥–µ–ª –ø—Ä–æ–¥–∞–∂

        üìä –û—Ç–¥–µ–ª –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞

        üöö –°–ª—É–∂–±–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏

        üõå –¢–∞–º–æ–∂–µ–Ω–Ω—ã–π –æ—Ç–¥–µ–ª

üè¢ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç

        üë• –°–ª—É–∂–±–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º

        üè¶ –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è

        ‚öñÔ∏è –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –æ—Ç–¥–µ–ª

        üìÅ –û—Ç–¥–µ–ª –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–∞

üîß –°–µ—Ä–≤–∏—Å–Ω—ã–π –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç

        üõ† –°–ª—É–∂–±–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏

        üìö –£—á–µ–±–Ω—ã–π —Ü–µ–Ω—Ç—Ä

        üõ† –û—Ç–¥–µ–ª –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

üîÑ –°–∏—Å—Ç–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:

        –í—Å–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–æ–¥—á–∏–Ω—è—é—Ç—Å—è –ì–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–º—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—É

        –ß—ë—Ç–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π

        –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫—Ä–æ—Å—Å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

üìÑ –í–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

        –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —Å–∫–∞—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é PDF-–≤–µ—Ä—Å–∏—é —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

        –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞–º–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –æ—Ç–¥–µ–ª–∞–º–∏

üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

        –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

        –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

        –í—Å–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ

üîç –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –ª—é–±–æ–º—É –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É ‚Äú–ü–æ–¥—Ä–æ–±–Ω–µ–µ‚Äù

üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

        –°–∫–∞—á–∞—Ç—å PDF-–≤–µ—Ä—Å–∏—é —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

        –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π

        –ò–∑—É—á–∏—Ç—å —Å—Ö–µ–º—É –ø–æ–¥—á–∏–Ω–µ–Ω–Ω–æ—Å—Ç–∏

        –û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –∑–æ–Ω–∞–º–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
''',
        reply_markup=builder.as_markup()
)
    await cache.add_message(user_id, sent)

    


